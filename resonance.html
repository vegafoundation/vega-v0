<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resonance Visualizer â€” Ã† VEGA</title>
  <meta name="description" content="Experience VEGA Resonance â€” Live frequency visualization with Solfeggio tones, Fibonacci patterns, and sacred geometry.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --gold: #D4AF37;
      --gold-light: #F4D03F;
      --violet: #8B5CF6;
      --violet-light: #A78BFA;
      --bg-dark: #0A0A0F;
      --bg-card: #12121A;
      --text: #FAFAFA;
      --text-muted: #A1A1AA;
      --border: rgba(212, 175, 55, 0.2);
      --cyan: #00D4FF;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Syne', sans-serif;
      background: var(--bg-dark);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(10, 10, 15, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      z-index: 1000;
    }
    .logo { font-size: 1.5rem; font-weight: 800; color: var(--gold); text-decoration: none; }
    .nav-links { display: flex; gap: 2rem; list-style: none; }
    .nav-links a { color: var(--text-muted); text-decoration: none; transition: color 0.3s; }
    .nav-links a:hover, .nav-links a.active { color: var(--gold); }
    
    /* Canvas Container */
    .canvas-container {
      position: fixed;
      inset: 0;
      z-index: 0;
    }
    canvas {
      width: 100%;
      height: 100%;
    }
    
    /* Controls Overlay */
    .controls {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(18, 18, 26, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 1.5rem 2rem;
      z-index: 100;
      display: flex;
      gap: 2rem;
      align-items: center;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .control-group {
      text-align: center;
    }
    .control-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 0.5rem;
    }
    
    .freq-buttons {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    .freq-btn {
      padding: 0.5rem 1rem;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-muted);
      cursor: pointer;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      transition: all 0.3s;
    }
    .freq-btn:hover { border-color: var(--gold); color: var(--gold); }
    .freq-btn.active {
      background: rgba(212, 175, 55, 0.2);
      border-color: var(--gold);
      color: var(--gold);
    }
    
    .play-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .play-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 30px rgba(212, 175, 55, 0.5);
    }
    
    .mode-select {
      padding: 0.5rem 1rem;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-family: inherit;
      cursor: pointer;
    }
    .mode-select:focus { outline: none; border-color: var(--gold); }
    
    /* Info Panel */
    .info-panel {
      position: fixed;
      top: 5rem;
      right: 2rem;
      background: rgba(18, 18, 26, 0.9);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 1.5rem;
      z-index: 100;
      width: 280px;
    }
    .info-panel h3 {
      font-size: 1rem;
      margin-bottom: 1rem;
      color: var(--gold);
    }
    .info-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }
    .info-label { color: var(--text-muted); }
    .info-value {
      font-family: 'JetBrains Mono', monospace;
      color: var(--cyan);
    }
    
    /* Chakra Indicator */
    .chakra-indicator {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }
    .chakra-name { font-weight: 600; margin-bottom: 0.25rem; }
    .chakra-bar {
      height: 8px;
      border-radius: 4px;
      background: linear-gradient(90deg, var(--chakra-color, var(--gold)) 0%, transparent 100%);
    }
    
    @media (max-width: 768px) {
      .controls { flex-direction: column; padding: 1rem; }
      .info-panel { right: 1rem; left: 1rem; width: auto; }
      .nav-links { display: none; }
    }
  </style>
</head>
<body>

<nav>
  <a href="index.html" class="logo">Ã† VEGA</a>
  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li><a href="trinity.html">Î‘â€¢Vâ€¢Î©</a></li>
    <li><a href="modules.html">Modules</a></li>
    <li><a href="resonance.html" class="active">Resonance</a></li>
    <li><a href="vrc.html">VRC</a></li>
  </ul>
</nav>

<div class="canvas-container">
  <canvas id="resonanceCanvas"></canvas>
</div>

<div class="info-panel">
  <h3>ğŸŒ€ Resonance State</h3>
  <div class="info-row">
    <span class="info-label">Frequency</span>
    <span class="info-value" id="currentFreq">432 Hz</span>
  </div>
  <div class="info-row">
    <span class="info-label">Fibonacci</span>
    <span class="info-value" id="fibLevel">8</span>
  </div>
  <div class="info-row">
    <span class="info-label">Golden Ratio</span>
    <span class="info-value" id="phiValue">Ï† = 1.618</span>
  </div>
  <div class="info-row">
    <span class="info-label">Brainwave</span>
    <span class="info-value" id="brainwaveState">Alpha</span>
  </div>
  <div class="info-row">
    <span class="info-label">Resonance</span>
    <span class="info-value" id="resonanceLevel">0.987</span>
  </div>
  
  <div class="chakra-indicator">
    <div class="chakra-name" id="chakraName">Heart Chakra</div>
    <div class="chakra-bar" id="chakraBar" style="--chakra-color: #00FF00;"></div>
  </div>
</div>

<div class="controls">
  <div class="control-group">
    <div class="control-label">Solfeggio</div>
    <div class="freq-buttons">
      <button class="freq-btn" data-freq="174">174</button>
      <button class="freq-btn" data-freq="285">285</button>
      <button class="freq-btn" data-freq="396">396</button>
      <button class="freq-btn" data-freq="417">417</button>
      <button class="freq-btn active" data-freq="432">432</button>
      <button class="freq-btn" data-freq="528">528</button>
      <button class="freq-btn" data-freq="639">639</button>
      <button class="freq-btn" data-freq="741">741</button>
      <button class="freq-btn" data-freq="852">852</button>
      <button class="freq-btn" data-freq="963">963</button>
    </div>
  </div>
  
  <button class="play-btn" id="playBtn" onclick="toggleAudio()">â–¶</button>
  
  <div class="control-group">
    <div class="control-label">Visualization</div>
    <select class="mode-select" id="vizMode" onchange="changeVisualization()">
      <option value="spiral">Fibonacci Spiral</option>
      <option value="waves">Wave Field</option>
      <option value="sacred">Sacred Geometry</option>
      <option value="particles">Particle Flow</option>
    </select>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// VEGA RESONANCE VISUALIZER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const PHI = 1.618033988749895;
const GOLDEN_ANGLE = 137.508;
const FIBONACCI = [1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144];

const SOLFEGGIO = {
  174: { name: 'Foundation', chakra: 'Earth', color: '#8B4513', brainwave: 'Delta' },
  285: { name: 'Quantum', chakra: 'Root', color: '#FF0000', brainwave: 'Delta' },
  396: { name: 'Liberation', chakra: 'Sacral', color: '#FF7F00', brainwave: 'Theta' },
  417: { name: 'Transformation', chakra: 'Solar Plexus', color: '#FFFF00', brainwave: 'Theta' },
  432: { name: 'Universal', chakra: 'Heart', color: '#00FF00', brainwave: 'Alpha' },
  528: { name: 'Miracle', chakra: 'Throat', color: '#00BFFF', brainwave: 'Alpha' },
  639: { name: 'Connection', chakra: 'Third Eye', color: '#4B0082', brainwave: 'Beta' },
  741: { name: 'Awakening', chakra: 'Crown', color: '#9400D3', brainwave: 'Beta' },
  852: { name: 'Intuition', chakra: 'Soul Star', color: '#DA70D6', brainwave: 'Gamma' },
  963: { name: 'Divine', chakra: 'Stellar Gateway', color: '#FFD700', brainwave: 'Gamma' }
};

// Canvas Setup
const canvas = document.getElementById('resonanceCanvas');
const ctx = canvas.getContext('2d');
let width, height, centerX, centerY;

// State
let currentFreq = 432;
let isPlaying = false;
let audioContext = null;
let oscillator = null;
let gainNode = null;
let vizMode = 'spiral';
let animationFrame;
let time = 0;
let resonanceField = 0.987;
let particles = [];

// Resize Handler
function resize() {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
  centerX = width / 2;
  centerY = height / 2;
}
window.addEventListener('resize', resize);
resize();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AUDIO ENGINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function initAudio() {
  if (!audioContext) {
    audioContext = new (window.AudioContext || window.webkitAudioContext)();
  }
  if (audioContext.state === 'suspended') {
    audioContext.resume();
  }
}

function toggleAudio() {
  if (isPlaying) {
    stopAudio();
  } else {
    startAudio();
  }
}

function startAudio() {
  initAudio();
  
  oscillator = audioContext.createOscillator();
  gainNode = audioContext.createGain();
  
  oscillator.type = 'sine';
  oscillator.frequency.setValueAtTime(currentFreq, audioContext.currentTime);
  
  gainNode.gain.setValueAtTime(0, audioContext.currentTime);
  gainNode.gain.linearRampToValueAtTime(0.15, audioContext.currentTime + 0.5);
  
  oscillator.connect(gainNode);
  gainNode.connect(audioContext.destination);
  
  oscillator.start();
  isPlaying = true;
  document.getElementById('playBtn').textContent = 'â¸';
}

function stopAudio() {
  if (gainNode) {
    gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.3);
    setTimeout(() => {
      if (oscillator) {
        oscillator.stop();
        oscillator = null;
      }
    }, 300);
  }
  isPlaying = false;
  document.getElementById('playBtn').textContent = 'â–¶';
}

function setFrequency(freq) {
  currentFreq = freq;
  
  if (oscillator) {
    oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
  }
  
  // Update UI
  document.querySelectorAll('.freq-btn').forEach(btn => {
    btn.classList.toggle('active', parseInt(btn.dataset.freq) === freq);
  });
  
  updateInfoPanel();
}

// Frequency button handlers
document.querySelectorAll('.freq-btn').forEach(btn => {
  btn.addEventListener('click', () => setFrequency(parseInt(btn.dataset.freq)));
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// VISUALIZATION MODES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function changeVisualization() {
  vizMode = document.getElementById('vizMode').value;
  particles = [];
  if (vizMode === 'particles') {
    initParticles();
  }
}

function initParticles() {
  particles = [];
  for (let i = 0; i < 200; i++) {
    particles.push({
      x: Math.random() * width,
      y: Math.random() * height,
      vx: (Math.random() - 0.5) * 2,
      vy: (Math.random() - 0.5) * 2,
      size: Math.random() * 3 + 1,
      hue: Math.random() * 60 + 30
    });
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER FUNCTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function draw() {
  time += 0.016;
  
  // Clear with fade
  ctx.fillStyle = 'rgba(10, 10, 15, 0.1)';
  ctx.fillRect(0, 0, width, height);
  
  // Get frequency data
  const freqData = SOLFEGGIO[currentFreq];
  const hue = getHueFromColor(freqData.color);
  
  switch (vizMode) {
    case 'spiral':
      drawFibonacciSpiral(hue);
      break;
    case 'waves':
      drawWaveField(hue);
      break;
    case 'sacred':
      drawSacredGeometry(hue);
      break;
    case 'particles':
      drawParticles(hue);
      break;
  }
  
  // Update resonance
  resonanceField = 0.9 + Math.sin(time * 0.5) * 0.1;
  
  animationFrame = requestAnimationFrame(draw);
}

function drawFibonacciSpiral(hue) {
  const freq = currentFreq / 100;
  const baseRadius = Math.min(width, height) * 0.3;
  
  ctx.beginPath();
  
  for (let i = 0; i < 500; i++) {
    const angle = i * GOLDEN_ANGLE * Math.PI / 180;
    const radius = Math.sqrt(i) * 8 * (1 + Math.sin(time * freq + i * 0.1) * 0.1);
    
    const x = centerX + Math.cos(angle + time * 0.2) * radius;
    const y = centerY + Math.sin(angle + time * 0.2) * radius;
    
    const alpha = 1 - i / 500;
    ctx.fillStyle = `hsla(${hue + i * 0.2}, 70%, 60%, ${alpha * 0.8})`;
    
    const size = 2 + Math.sin(time * 2 + i * 0.05) * 1;
    ctx.beginPath();
    ctx.arc(x, y, size, 0, Math.PI * 2);
    ctx.fill();
  }
  
  // Central glow
  const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, 100);
  gradient.addColorStop(0, `hsla(${hue}, 80%, 70%, 0.3)`);
  gradient.addColorStop(1, 'transparent');
  ctx.fillStyle = gradient;
  ctx.fillRect(centerX - 100, centerY - 100, 200, 200);
}

function drawWaveField(hue) {
  const freq = currentFreq / 500;
  
  for (let y = 0; y < height; y += 20) {
    ctx.beginPath();
    ctx.moveTo(0, y);
    
    for (let x = 0; x < width; x += 5) {
      const wave1 = Math.sin(x * 0.01 + time * freq) * 20;
      const wave2 = Math.sin(x * 0.02 - time * freq * 0.5) * 15;
      const wave3 = Math.sin(y * 0.01 + time * 0.3) * 10;
      
      ctx.lineTo(x, y + wave1 + wave2 + wave3);
    }
    
    const alpha = 0.1 + Math.sin(y * 0.01 + time) * 0.05;
    ctx.strokeStyle = `hsla(${hue + y * 0.1}, 70%, 60%, ${alpha})`;
    ctx.lineWidth = 1;
    ctx.stroke();
  }
}

function drawSacredGeometry(hue) {
  const freq = currentFreq / 200;
  const radius = Math.min(width, height) * 0.35;
  
  // Flower of Life
  for (let ring = 0; ring < 3; ring++) {
    const ringRadius = radius * (ring + 1) / 3;
    const circles = 6 * (ring + 1);
    
    for (let i = 0; i < circles; i++) {
      const angle = (i / circles) * Math.PI * 2 + time * 0.1;
      const x = centerX + Math.cos(angle) * ringRadius;
      const y = centerY + Math.sin(angle) * ringRadius;
      
      ctx.beginPath();
      ctx.arc(x, y, ringRadius / 2 * (1 + Math.sin(time * freq + i) * 0.1), 0, Math.PI * 2);
      ctx.strokeStyle = `hsla(${hue + i * 10}, 60%, 50%, 0.3)`;
      ctx.lineWidth = 1;
      ctx.stroke();
    }
  }
  
  // Central Hexagon
  ctx.beginPath();
  for (let i = 0; i < 6; i++) {
    const angle = (i / 6) * Math.PI * 2 - Math.PI / 2 + time * 0.05;
    const r = radius * 0.4 * (1 + Math.sin(time * freq) * 0.1);
    const x = centerX + Math.cos(angle) * r;
    const y = centerY + Math.sin(angle) * r;
    
    if (i === 0) ctx.moveTo(x, y);
    else ctx.lineTo(x, y);
  }
  ctx.closePath();
  ctx.strokeStyle = `hsla(${hue}, 80%, 60%, 0.5)`;
  ctx.lineWidth = 2;
  ctx.stroke();
  
  // Î¦ Spiral overlay
  ctx.beginPath();
  for (let a = 0; a < Math.PI * 8; a += 0.05) {
    const r = 5 * Math.pow(PHI, a / Math.PI) * (1 + Math.sin(time + a) * 0.1);
    const x = centerX + Math.cos(a + time * 0.1) * r;
    const y = centerY + Math.sin(a + time * 0.1) * r;
    
    if (a === 0) ctx.moveTo(x, y);
    else ctx.lineTo(x, y);
  }
  ctx.strokeStyle = `hsla(45, 80%, 60%, 0.4)`;
  ctx.lineWidth = 2;
  ctx.stroke();
}

function drawParticles(hue) {
  const freq = currentFreq / 1000;
  
  particles.forEach((p, i) => {
    // Attraction to center based on frequency
    const dx = centerX - p.x;
    const dy = centerY - p.y;
    const dist = Math.sqrt(dx * dx + dy * dy);
    
    const attraction = freq * 0.5;
    p.vx += (dx / dist) * attraction;
    p.vy += (dy / dist) * attraction;
    
    // Apply Fibonacci pattern
    const fibIndex = i % FIBONACCI.length;
    const fibForce = FIBONACCI[fibIndex] / 144;
    
    p.vx += Math.sin(time + i) * fibForce;
    p.vy += Math.cos(time + i) * fibForce;
    
    // Damping
    p.vx *= 0.98;
    p.vy *= 0.98;
    
    // Update position
    p.x += p.vx;
    p.y += p.vy;
    
    // Wrap
    if (p.x < 0) p.x = width;
    if (p.x > width) p.x = 0;
    if (p.y < 0) p.y = height;
    if (p.y > height) p.y = 0;
    
    // Draw
    const alpha = 0.5 + Math.sin(time * 2 + i) * 0.3;
    ctx.fillStyle = `hsla(${hue + p.hue}, 70%, 60%, ${alpha})`;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.size * (1 + Math.sin(time + i) * 0.3), 0, Math.PI * 2);
    ctx.fill();
    
    // Connect nearby particles
    particles.slice(i + 1).forEach(p2 => {
      const d = Math.sqrt((p.x - p2.x) ** 2 + (p.y - p2.y) ** 2);
      if (d < 80) {
        ctx.beginPath();
        ctx.moveTo(p.x, p.y);
        ctx.lineTo(p2.x, p2.y);
        ctx.strokeStyle = `hsla(${hue}, 60%, 50%, ${0.2 * (1 - d / 80)})`;
        ctx.lineWidth = 0.5;
        ctx.stroke();
      }
    });
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function getHueFromColor(hex) {
  // Simple hex to hue conversion
  const colors = {
    '#8B4513': 25,   // Brown
    '#FF0000': 0,    // Red
    '#FF7F00': 30,   // Orange
    '#FFFF00': 60,   // Yellow
    '#00FF00': 120,  // Green
    '#00BFFF': 195,  // Cyan
    '#4B0082': 270,  // Indigo
    '#9400D3': 280,  // Violet
    '#DA70D6': 300,  // Orchid
    '#FFD700': 50    // Gold
  };
  return colors[hex] || 45;
}

function updateInfoPanel() {
  const freqData = SOLFEGGIO[currentFreq];
  const fibIndex = FIBONACCI.findIndex(f => f >= currentFreq / 50) || 8;
  
  document.getElementById('currentFreq').textContent = `${currentFreq} Hz`;
  document.getElementById('fibLevel').textContent = FIBONACCI[fibIndex] || 8;
  document.getElementById('brainwaveState').textContent = freqData.brainwave;
  document.getElementById('resonanceLevel').textContent = resonanceField.toFixed(3);
  document.getElementById('chakraName').textContent = freqData.chakra;
  document.getElementById('chakraBar').style.setProperty('--chakra-color', freqData.color);
}

// Initialize
updateInfoPanel();
draw();
</script>

</body>
</html>
